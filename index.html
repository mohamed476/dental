<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Curso del día — ¡Nuevo Nivel!</title>
  <style>
    :root{
      --bg:#fff7fb;--card:#ffffff;--accent:#e95da6;--muted:#6b6b6b;--success:#28a745;--warning:#ffc107;--danger:#dc3545;--energy:#ff6b9d;
      font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    body{margin:0;background:linear-gradient(180deg,#fff7fb, #fff);display:flex;align-items:center;justify-content:center;min-height:100vh;color:#222}
    .wrap{width:960px;max-width:96%;background:var(--card);border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,0.08);overflow:hidden}
    header{padding:22px 28px;background:linear-gradient(90deg,rgba(233,93,166,0.12),rgba(233,93,166,0.04));display:flex;flex-direction:column;align-items:flex-start;gap:8px}
    header h1{margin:0;font-size:22px;color:#111}
    .date{font-size:18px;color:var(--accent);font-weight:bold;align-self:flex-end}
    .motivation{font-size:15px;color:#444;margin-top:6px;line-height:1.4}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:18px;padding:20px}
    .card{background:#fff;padding:18px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.05);margin-bottom:14px}
    .section-title{font-size:17px;font-weight:700;margin:0 0 12px;color:var(--accent);display:flex;align-items:center;gap:8px}
    .list{display:flex;flex-direction:column;gap:10px}
    .item{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:10px;border:1px solid #f2e6ef}
    .big{font-weight:700;font-size:18px}
    .small{font-size:13px;color:var(--muted)}
    .lang{font-size:13px;color:var(--muted)}
    button{background:var(--accent);color:white;border:0;padding:8px 14px;border-radius:10px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px;transition:all .2s}
    button:hover{transform:scale(1.05);box-shadow:0 4px 8px rgba(233,93,166,0.3)}
    .btn-sm{font-size:12px;padding:5px 8px}
    .btn-success{background:var(--success)}
    .btn-warning{background:var(--warning);color:#212529}
    .btn-danger{background:var(--danger)}
    .btn-energy{background:var(--energy);animation:pulse 1.5s infinite}
    .verbs{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    .verb-card{padding:14px;border:1px solid #f0e0eb;border-radius:10px;background:#fdf8fb}
    footer{padding:14px 20px;background:#fff7fb;text-align:center;color:var(--muted);font-size:13px}
    .heart{font-size:26px;color:var(--accent)}
    .game-area{background:#fdf2f8;padding:16px;border-radius:12px;margin-top:12px;border:1px dashed #e95da6}
    .sentence-builder{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0}
    .word-chip{background:#fff;padding:8px 12px;border-radius:20px;border:1px solid #f0d0e0;font-size:14px;cursor:grab;box-shadow:0 1px 3px rgba(0,0,0,0.1);user-select:none;transition:all .2s}
    .word-chip:hover{transform:scale(1.05);border-color:var(--accent)}
    .word-chip.dragging{opacity:0.5;transform:scale(0.95)}
    .drop-zone{min-height:50px;border:2px dashed #ccc;border-radius:10px;padding:10px;display:flex;flex-wrap:wrap;gap:6px;background:#fff}
    .drop-zone.drag-over{border-color:var(--accent);background:#fff5fb}
    .result{margin-top:12px;font-weight:600;font-size:15px}
    .voice-btn{background:var(--accent);color:white;padding:6px 10px;border-radius:50%;font-size:18px;width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}
    .voice-btn:hover{transform:scale(1.1);background:#d44a8f}
    .progress{margin-top:10px;height:8px;background:#f0e0eb;border-radius:4px;overflow:hidden}
    .progress-bar{height:100%;background:var(--accent);width:0%;transition:width 0.4s ease}
    .confetti{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100}
    .energy-msg{background:linear-gradient(90deg,#ff6b9d,#e95da6);color:white;padding:10px;border-radius:10px;margin:10px 0;text-align:center;font-weight:bold;animation:pop 0.5s}
    .game-tabs{display:flex;gap:8px;margin-bottom:12px;border-bottom:1px solid #f0e0eb;flex-wrap:wrap}
    .tab-btn{padding:8px 16px;border-radius:8px 8px 0 0;background:#f8f0f5;color:var(--muted);cursor:pointer;font-size:14px;transition:all .2s}
    .tab-btn:hover{background:#f0d8ea}
    .tab-btn.active{background:var(--accent);color:white}
    .game-content{display:none;padding:8px}
    .game-content.active{display:block}
    .fill-blank{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:12px 0;font-size:16px}
    .blank{border-bottom:3px solid var(--accent);min-width:100px;padding:2px 4px;text-align:center;font-weight:bold}
    .options{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .opt-chip{background:#fff;padding:8px 12px;border-radius:20px;border:1px solid #e0c0d8;cursor:pointer;font-size:14px;transition:all .2s}
    .opt-chip:hover{transform:scale(1.05);border-color:var(--accent)}
    .opt-chip.selected{background:var(--accent);color:white;border-color:var(--accent)}
    .match-pair{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:12px 0}
    .pair-es,.pair-en{background:#fdf8fb;padding:12px;border-radius:10px;border:1px solid #f0e0eb;text-align:center;cursor:pointer;transition:all .2s;font-weight:600}
    .pair-es:hover,.pair-en:hover{transform:scale(1.03);border-color:var(--accent)}
    .pair-es.selected,.pair-en.selected{outline:3px solid var(--accent);background:#fff5fb}
    .pair-match{opacity:0.3;pointer-events:none;transition:opacity 0.5s}
    .pair-correct{animation:fadeOut 0.8s forwards}
    @keyframes fadeOut{to{opacity:0;transform:scale(0.8)}}
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
    @keyframes pop{0%{transform:scale(0.8)}100%{transform:scale(1)}}
    @media(max-width:800px){
      .grid{grid-template-columns:1fr}
      .verbs{grid-template-columns:1fr}
      .match-pair{grid-template-columns:1fr}
      .fill-blank{justify-content:center;font-size:15px}
      .game-tabs{justify-content:center}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Curso del día — ¡Nuevo Nivel!</h1>
      <div class="date" id="todayDate"></div>
      <p class="motivation">¡Hola Silje! ¡Has terminado el nivel anterior! <br>
      <strong>Nuevo tema: Viajes y comida en España</strong> <br>
      1. Construye frases de viaje <br>
      2. Rellena recetas deliciosas <br>
      3. Empareja sabores <br>
      ¡Practica con Amine y a por Barcelona!</p>
    </header>

    <div class="grid">
      <div>
        <!-- NUEVAS PALABRAS -->
        <div class="card">
          <h3 class="section-title">Palabras del día</h3>
          <div class="list" id="words"></div>
        </div>

        <!-- NUEVOS VERBOS REGULARES -->
        <div class="card">
          <h3 class="section-title">Verbos regulares (presente)</h3>
          <div class="verbs" id="regulars"></div>
        </div>

        <!-- NUEVOS VERBOS IRREGULARES -->
        <div class="card">
          <h3 class="section-title">Verbos irregulares (presente)</h3>
          <div class="verbs" id="irregulars"></div>
        </div>

        <!-- 3 JUEGOS -->
        <div class="card">
          <h3 class="section-title">JUEGOS DEL DÍA</h3>
          <div class="game-tabs">
            <button class="tab-btn active" data-game="build">Construye</button>
            <button class="tab-btn" data-game="fill">Rellena</button>
            <button class="tab-btn" data-game="match">Empareja</button>
          </div>

          <!-- JUEGO 1: CONSTRUYE FRASE -->
          <div class="game-content active" id="game-build">
            <div class="game-area">
              <p><strong>Arrastra o toca para formar una frase de viaje</strong></p>
              <div class="sentence-builder" id="wordPool1"></div>
              <div class="drop-zone" id="dropZone1"></div>
              <div class="result" id="result1"></div>
              <div style="margin-top:12px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
                <button id="checkBtn1" class="btn-sm">Comprobar</button>
                <button id="resetBtn1" class="btn-sm btn-warning">Reiniciar</button>
                <button id="voiceBtn1" class="voice-btn">Altavoz</button>
              </div>
              <div class="progress"><div class="progress-bar" id="progressBar1"></div></div>
            </div>
          </div>

          <!-- JUEGO 2: RELLENA HUECO -->
          <div class="game-content" id="game-fill">
            <div class="game-area">
              <p><strong>Escucha y elige la palabra de comida</strong></p>
              <div class="fill-blank" id="fillSentence"></div>
              <div class="options" id="fillOptions"></div>
              <div class="result" id="result2"></div>
              <div style="margin-top:12px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
                <button id="voiceBtn2" class="voice-btn">Altavoz</button>
                <button id="nextFill" class="btn-sm btn-success">Siguiente</button>
              </div>
            </div>
          </div>

          <!-- JUEGO 3: EMPAREJA -->
          <div class="game-content" id="game-match">
            <div class="game-area">
              <p><strong>Empareja comida española con inglés</strong></p>
              <div class="match-pair" id="matchPairs"></div>
              <div class="result" id="result3"></div>
              <button id="resetMatch" class="btn-sm btn-warning" style="margin-top:10px">Reiniciar</button>
            </div>
          </div>
        </div>
      </div>

      <aside>
        <div class="card">
          <h3>Mensajes del día</h3>
          <div id="romance" style="display:flex;flex-direction:column;gap:12px"></div>
        </div>
        <div class="card" style="text-align:center">
          <div class="heart">Corazón</div>
          <p class="small">Puntos: <strong id="totalPoints">0</strong> pts</p>
          <p class="small">¡Nivel 2 desbloqueado!</p>
        </div>
      </aside>
    </div>

    <footer>
      <span>Hecho con cariño — aprende, viaja, disfruta.</span>
    </footer>
  </div>

  <canvas class="confetti" id="confetti"></canvas>

  <script>
    // === FECHA ===
    document.getElementById('todayDate').textContent = new Date().toLocaleDateString('es-ES', {weekday:'long', day:'numeric', month:'long', year:'numeric'});

    // === NUEVAS PALABRAS (VIAJES + COMIDA) ===
    const words = [
      {es:'viajar', en:'to travel', no:'å reise'},
      {es:'comer', en:'to eat', no:'å spise'},
      {es:'paella', en:'paella', no:'paella'},
      {es:'playa', en:'beach', no:'strand'},
      {es:'tren', en:'train', no:'tog'},
      {es:'hotel', en:'hotel', no:'hotell'},
      {es:'delicioso', en:'delicious', no:'deilig'}
    ];

    // === NUEVOS VERBOS REGULARES ===
    const regulars = [
      {inf:'caminar', en:'to walk', no:'å gå', conj:{yo:'camino',tu:'caminas',el:'camina',nos:'caminamos',vos:'camináis',ellos:'caminan'}},
      {inf:'comprar', en:'to buy', no:'å kjøpe', conj:{yo:'compro',tu:'compras',el:'compra',nos:'compramos',vos:'compráis',ellos:'compran'}},
      {inf:'visitar', en:'to visit', no:'å besøke', conj:{yo:'visito',tu:'visitas',el:'visita',nos:'visitamos',vos:'visitáis',ellos:'visitan'}},
      {inf:'hablar', en:'to speak', no:'å snakke', conj:{yo:'hablo',tu:'hablas',el:'habla',nos:'hablamos',vos:'hablais',ellos:'hablan'}},
      {inf:'mirar', en:'to look', no:'å se', conj:{yo:'miro',tu:'miras',el:'mira',nos:'miramos',vos:'miráis',ellos:'miran'}}
    ];

    // === NUEVOS VERBOS IRREGULARES ===
    const irregulars = [
      {inf:'salir', en:'to go out', no:'å gå ut', conj:{yo:'salgo',tu:'sales',el:'sale',nos:'salimos',vos:'salís',ellos:'salen'}},
      {inf:'conocer', en:'to know (person/place)', no:'å kjenne', conj:{yo:'conozco',tu:'conoces',el:'conoce',nos:'conocemos',vos:'conocéis',ellos:'conocen'}},
      {inf:'pedir', en:'to ask for', no:'å be om', conj:{yo:'pido',tu:'pides',el:'pide',nos:'pedimos',vos:'pedís',ellos:'piden'}},
      {inf:'dormir', en:'to sleep', no:'å sove', conj:{yo:'duermo',tu:'duermes',el:'duerme',nos:'dormimos',vos:'dormís',ellos:'duermen'}},
      {inf:'jugar', en:'to play', no:'å spille', conj:{yo:'juego',tu:'juegas',el:'juega',nos:'jugamos',vos:'jugáis',ellos:'juegan'}}
    ];

    // === FRASES PARA CONSTRUIR ===
    const phrases = [
      {es:'Yo viajo a Barcelona en tren', alternatives:['En tren viajo a Barcelona yo', 'A Barcelona viajo en tren']},
      {es:'Comemos paella en la playa', alternatives:['En la playa comemos paella', 'Paella comemos en la playa']},
      {es:'Salimos del hotel a las ocho', alternatives:['A las ocho salimos del hotel', 'Del hotel salimos a las ocho']},
      {es:'Conozco un restaurante delicioso', alternatives:['Un restaurante delicioso conozco', 'Delicioso conozco un restaurante']}
    ];

    // === FRASES PARA RELLENAR (COMIDA Y VIAJE) ===
    const fillPhrases = [
      'Mañana viajo a Madrid',
      'Compro pan en la panadería',
      'Salimos a caminar por la ciudad',
      'Pido una tortilla en el bar',
      'Duermo en un hotel cerca del mar',
      'Visito el museo con amigos',
      'Hablo español con los camareros',
      'Juego al fútbol en la playa',
      'Miro el mapa para no perderme',
      'Como paella con mi familia',
      'Conozco a gente muy amable',
      'Camino por las Ramblas de Barcelona'
    ];

    // === MENSAJES DEL DÍA ===
    const messages = [
      {es:'¡Vamos a Barcelona juntos!', en:'Let\'s go to Barcelona together!', no:'La oss dra til Barcelona sammen!'},
      {es:'La paella de Valencia es la mejor.', en:'Valencia\'s paella is the best.', no:'Paellaen fra Valencia er best.'},
      {es:'Cada viaje es una nueva aventura.', en:'Every trip is a new adventure.', no:'Hver reise er et nytt eventyr.'}
    ];

    // === RENDER ===
    function renderWords(){const c=document.getElementById('words');c.innerHTML='';words.forEach(w=>{const d=document.createElement('div');d.className='item';d.innerHTML=`<div><div class="big">${w.es}</div><div class="lang">${w.en} — ${w.no}</div></div>`;c.appendChild(d);});}
    function renderVerbs(id, verbs){const c=document.getElementById(id);c.innerHTML='';verbs.forEach(v=>{const d=document.createElement('div');d.className='verb-card';d.innerHTML=`<div class="big">${v.inf} <span class="small">(${v.en} — ${v.no})</span></div><div class="lang">yo ${v.conj.yo} • tú ${v.conj.tu} • él ${v.conj.el} • nos ${v.conj.nos} • vos ${v.conj.vos} • ellos ${v.conj.ellos}</div>`;c.appendChild(d);});}
    function renderMessages(){const b=document.getElementById('romance');b.innerHTML='';messages.forEach(m=>{const e=document.createElement('div');e.className='item';e.innerHTML=`<div><div class="big">${m.es}</div><div class="lang">${m.en} — ${m.no}</div></div>`;b.appendChild(e);});}

    renderWords(); renderVerbs('regulars', regulars); renderVerbs('irregulars', irregulars); renderMessages();

    // === PUNTOS ===
    let totalPoints = 0;
    const pointsEl = document.getElementById('totalPoints');

    // === PESTAÑAS ===
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.game-content').forEach(g => g.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById('game-' + btn.dataset.game).classList.add('active');
      });
    });

    // === JUEGO 1: CONSTRUYE FRASE ===
    let currentPhrase1 = 0;
    const pool1 = document.getElementById('wordPool1');
    const drop1 = document.getElementById('dropZone1');
    const result1 = document.getElementById('result1');
    const check1 = document.getElementById('checkBtn1');
    const reset1 = document.getElementById('resetBtn1');
    const voice1 = document.getElementById('voiceBtn1');
    const progress1 = document.getElementById('progressBar1');

    function loadPhrase1(){
      const p = phrases[currentPhrase1];
      const words = p.es.split(' ');
      const shuffled = [...words].sort(() => Math.random() - 0.5);
      pool1.innerHTML = ''; drop1.innerHTML = ''; result1.textContent = '';

      shuffled.forEach(w => {
        const chip = document.createElement('div');
        chip.className = 'word-chip'; chip.textContent = w; chip.draggable = true; chip.dataset.word = w;
        chip.ondragstart = e => e.dataTransfer.setData('text', w);
        chip.onclick = () => moveToDrop(chip);
        pool1.appendChild(chip);
      });

      drop1.ondragover = e => { e.preventDefault(); drop1.classList.add('drag-over'); };
      drop1.ondragleave = () => drop1.classList.remove('drag-over');
      drop1.ondrop = e => {
        e.preventDefault(); drop1.classList.remove('drag-over');
        const w = e.dataTransfer.getData('text');
        if (w) addToDrop(w);
      };

      progress1.style.width = ((currentPhrase1 / phrases.length) * 100) + '%';
    }

    function moveToDrop(chip) {
      const w = chip.textContent;
      if (!drop1.querySelector(`[data-word="${w}"]`)) {
        addToDrop(w);
        chip.remove();
      }
    }

    function addToDrop(w) {
      const chip = document.createElement('div');
      chip.className = 'word-chip'; chip.textContent = w; chip.dataset.word = w;
      chip.onclick = () => chip.remove();
      drop1.appendChild(chip);
    }

    check1.onclick = () => {
      const built = Array.from(drop1.children).map(c => c.textContent).join(' ').trim();
      const p = phrases[currentPhrase1];
      const isMain = p.es === built;
      const isAlt = p.alternatives.some(a => a === built);
      if (isMain || isAlt) {
        const msg = isAlt ? '¡EXCELENTE! ¡Creatividad!' : '¡Perfecto!';
        result1.innerHTML = `${msg} <span style="color:var(--energy)">+2 pts</span>`;
        result1.style.color = 'var(--success)';
        totalPoints += 2; pointsEl.textContent = totalPoints;
        confettiBurst();
        setTimeout(() => { currentPhrase1 = (currentPhrase1 + 1) % phrases.length; loadPhrase1(); }, 1800);
      } else {
        result1.textContent = 'Inténtalo de nuevo...';
        result1.style.color = 'var(--danger)';
      }
    };

    reset1.onclick = loadPhrase1;
    voice1.onclick = () => speak(phrases[currentPhrase1].es);

    // === JUEGO 2: RELLENA HUECO ===
    let currentFill = 0;
    const fillSent = document.getElementById('fillSentence');
    const fillOpts = document.getElementById('fillOptions');
    const result2 = document.getElementById('result2');
    const voice2 = document.getElementById('voiceBtn2');
    const nextFill = document.getElementById('nextFill');

    function loadFill() {
      const sentence = fillPhrases[currentFill];
      const words = sentence.split(' ');
      const idx = Math.floor(Math.random() * words.length);
      const correct = words[idx];
      words[idx] = '_____';
      fillSent.innerHTML = words.map((w, i) => i === idx ? '<span class="blank">?</span>' : w).join(' ');

      const opts = [correct];
      const others = words.filter(w => w !== '_____');
      while (opts.length < 4 && others.length > 0) {
        const rand = others.splice(Math.floor(Math.random() * others.length), 1)[0];
        if (!opts.includes(rand)) opts.push(rand);
      }
      opts.sort(() => Math.random() - 0.5);

      fillOpts.innerHTML = '';
      opts.forEach(o => {
        const chip = document.createElement('div');
        chip.className = 'opt-chip';
        chip.textContent = o;
        chip.onclick = () => {
          fillOpts.querySelectorAll('.opt-chip').forEach(c => c.classList.remove('selected'));
          chip.classList.add('selected');
          if (o === correct) {
            result2.textContent = '¡Delicioso!';
            result2.style.color = 'var(--success)';
            totalPoints++; pointsEl.textContent = totalPoints;
            confettiBurst();
            setTimeout(() => {
              currentFill = (currentFill + 1) % fillPhrases.length;
              loadFill();
            }, 1200);
          } else {
            result2.textContent = 'No, otra vez...';
            result2.style.color = 'var(--danger)';
          }
        };
        fillOpts.appendChild(chip);
      });
    }

    voice2.onclick = () => speak(fillPhrases[currentFill]);
    nextFill.onclick = () => { currentFill = (currentFill + 1) % fillPhrases.length; loadFill(); };

    // === JUEGO 3: EMPAREJA ===
    const matchPairs = document.getElementById('matchPairs');
    const result3 = document.getElementById('result3');
    const resetMatch = document.getElementById('resetMatch');
    let selectedEs = null, selectedEn = null;

    function loadMatch() {
      const pairs = words.slice(0, 5);
      const esList = [...pairs].sort(() => Math.random() - 0.5);
      const enList = [...pairs].sort(() => Math.random() - 0.5);
      matchPairs.innerHTML = '';
      selectedEs = selectedEn = null;
      result3.textContent = '';

      esList.forEach(p => {
        const div = document.createElement('div');
        div.className = 'pair-es';
        div.textContent = p.es;
        div.dataset.en = p.en;
        div.onclick = () => selectPair(div, 'es');
        matchPairs.appendChild(div);
      });
      enList.forEach(p => {
        const div = document.createElement('div');
        div.className = 'pair-en';
        div.textContent = p.en;
        div.dataset.es = p.es;
        div.onclick = () => selectPair(div, 'en');
        matchPairs.appendChild(div);
      });
    }

    function selectPair(el, type) {
      document.querySelectorAll(`.pair-${type}`).forEach(d => d.classList.remove('selected'));
      el.classList.add('selected');
      if (type === 'es') selectedEs = el;
      else selectedEn = el;
      checkMatch();
    }

    function checkMatch() {
      if (selectedEs && selectedEn) {
        if (selectedEs.dataset.en === selectedEn.textContent) {
          result3.textContent = '¡Correcto!';
          result3.style.color = 'var(--success)';
          totalPoints++; pointsEl.textContent = totalPoints;
          confettiBurst();

          selectedEs.classList.add('pair-correct');
          selectedEn.classList.add('pair-correct');
          setTimeout(() => {
            selectedEs.remove();
            selectedEn.remove();
            selectedEs = selectedEn = null;
            if (matchPairs.children.length === 0) {
              setTimeout(loadMatch, 800);
            }
          }, 800);
        } else {
          result3.textContent = 'No coincide';
          result3.style.color = 'var(--danger)';
        }
      }
    }

    resetMatch.onclick = loadMatch;

    // === VOZ ===
    function speak(text) {
      if ('speechSynthesis' in window) {
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'es-ES';
        utter.rate = 0.9;
        speechSynthesis.speak(utter);
      }
    }

    // === CONFETTI ===
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    canvas.width = innerWidth; canvas.height = innerHeight;
    let particles = [];

    function confettiBurst() {
      for (let i = 0; i < 100; i++) {
        particles.push({
          x: innerWidth / 2 + (Math.random() - 0.5) * 300,
          y: innerHeight / 2 + (Math.random() - 0.5) * 200,
          vx: (Math.random() - 0.5) * 10,
          vy: Math.random() * -12 - 5,
          color: `hsl(${Math.random() * 360},100%,65%)`,
          size: Math.random() * 5 + 3,
          life: 80
        });
      }
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach((p, i) => {
        p.x += p.vx; p.y += p.vy; p.vy += 0.3; p.life--;
        if (p.life <= 0) particles.splice(i, 1);
        ctx.fillStyle = p.color;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fill();
      });
      requestAnimationFrame(animate);
    }
    animate();

    // === INICIO ===
    loadPhrase1();
    loadFill();
    loadMatch();
  </script>
</body>
</html>
